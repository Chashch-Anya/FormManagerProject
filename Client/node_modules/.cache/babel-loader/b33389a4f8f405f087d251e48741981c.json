{"ast":null,"code":"var _jsxFileName = \"D:\\\\STUDY STUFF\\\\\\u0413\\u0440\\u0443\\u043F\\u043F\\u043E\\u0432\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\\\Client\\\\src\\\\components\\\\Header\\\\index.js\";\nimport React, { useContext } from \"react\";\nimport { Container, LeftContainer, RightContainer, Center, Card, User, LogoutButton } from \"./styles\";\nimport Button from \"../Button\";\nimport Avatar from \"../Avatar\";\nimport { withRouter } from \"react-router-dom\";\nimport AuthContext from \"../../contexts/auth\";\nimport axiosInstance from \"../../services/api\";\nimport VectorContainer from \"../../components/VectorContainer\";\nimport signin_vector from \"../../assets/img/flame-sign-up.png\";\nimport user_profile from \"../../assets/img/user.jpg\";\nimport { COORDINATOR, URL_ROOT, URL_LOGIN, URL_CREATE } from '../../utils/constants';\nfunction Header(_ref) {\n  var _user$data, _user$data$role;\n  let {\n    history,\n    createSurvey = true,\n    showUser = true,\n    showHome = false,\n    leftButtons\n  } = _ref;\n  const {\n    user,\n    setUser\n  } = useContext(AuthContext);\n  const isAdmin = (user === null || user === void 0 ? void 0 : (_user$data = user.data) === null || _user$data === void 0 ? void 0 : (_user$data$role = _user$data.role) === null || _user$data$role === void 0 ? void 0 : _user$data$role.toUpperCase()) === COORDINATOR;\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    setUser({\n      isLoggedIn: false\n    });\n    axiosInstance.defaults.headers.common[\"Authorization\"] = undefined;\n  };\n  const userInfo = !(user === null || user === void 0 ? void 0 : user.isLoggedIn) ? /*#__PURE__*/React.createElement(Card, {\n    onClick: () => history.push(URL_LOGIN),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(User, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Avatar, {\n    size: \"25px\",\n    src: user_profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, \"Welcome, \", user.data.name, \"!\", \" \", /*#__PURE__*/React.createElement(LogoutButton, {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \" \", \"Logout\"));\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LeftContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, showHome ? /*#__PURE__*/React.createElement(LogoutButton, {\n    onClick: () => history.push(URL_ROOT),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Home\") : createSurvey && isAdmin && /*#__PURE__*/React.createElement(Button, {\n    color: \"green\",\n    onClick: () => history.push(URL_CREATE),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Create New Survey\"), leftButtons && leftButtons), /*#__PURE__*/React.createElement(Center, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(VectorContainer, {\n    clickable: true,\n    size: \"50px\",\n    src: signin_vector,\n    onClick: () => history.push(URL_ROOT),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(RightContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, showUser && userInfo));\n}\nexport default withRouter(Header);","map":{"version":3,"names":["React","useContext","Container","LeftContainer","RightContainer","Center","Card","User","LogoutButton","Button","Avatar","withRouter","AuthContext","axiosInstance","VectorContainer","signin_vector","user_profile","COORDINATOR","URL_ROOT","URL_LOGIN","URL_CREATE","Header","_ref","_user$data","_user$data$role","history","createSurvey","showUser","showHome","leftButtons","user","setUser","isAdmin","data","role","toUpperCase","logout","localStorage","removeItem","isLoggedIn","defaults","headers","common","undefined","userInfo","createElement","onClick","push","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","size","src","style","color","name","clickable"],"sources":["D:/STUDY STUFF/Групповой проект/Client/src/components/Header/index.js"],"sourcesContent":["import React, { useContext } from \"react\";\n\nimport {\n  Container,\n  LeftContainer,\n  RightContainer,\n  Center,\n  Card,\n  User,\n  LogoutButton\n} from \"./styles\";\nimport Button from \"../Button\";\nimport Avatar from \"../Avatar\";\nimport { withRouter } from \"react-router-dom\";\nimport AuthContext from \"../../contexts/auth\";\nimport axiosInstance from \"../../services/api\";\nimport VectorContainer from \"../../components/VectorContainer\";\nimport signin_vector from \"../../assets/img/flame-sign-up.png\";\nimport user_profile from \"../../assets/img/user.jpg\";\nimport { COORDINATOR, URL_ROOT, URL_LOGIN, URL_CREATE } from '../../utils/constants';\n\nfunction Header({\n  history,\n  createSurvey = true,\n  showUser = true,\n  showHome = false,\n  leftButtons\n}) {\n  const { user, setUser } = useContext(AuthContext);\n  const isAdmin = user?.data?.role?.toUpperCase() === COORDINATOR;\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    setUser({ isLoggedIn: false });\n    axiosInstance.defaults.headers.common[\"Authorization\"] = undefined;\n  };\n\n  const userInfo = !user?.isLoggedIn ? (\n    <Card onClick={() => history.push(URL_LOGIN)}>\n      <User>Login</User>\n      <Avatar\n        size=\"25px\"\n        src={user_profile}\n      ></Avatar>\n    </Card>\n  ) : (\n    <p style={{ color: \"white\" }}>\n      Welcome, {user.data.name}!{\" \"}\n      <LogoutButton onClick={logout}>{\" \"}Logout</LogoutButton>\n    </p>\n  );\n\n  return (\n    <Container>\n      <LeftContainer>\n        {showHome ? (\n          <LogoutButton onClick={() => history.push(URL_ROOT)}>Home</LogoutButton>\n        ) : (\n          createSurvey &&\n          isAdmin && (\n            <Button color=\"green\" onClick={() => history.push(URL_CREATE)}>\n              Create New Survey\n            </Button>\n          )\n        )}\n        {leftButtons && leftButtons}\n      </LeftContainer>\n      <Center>\n        <VectorContainer\n          clickable\n          size=\"50px\"\n          src={signin_vector}\n          onClick={() => history.push(URL_ROOT)}\n        ></VectorContainer>\n      </Center>\n      <RightContainer>{showUser && userInfo}</RightContainer>\n    </Container>\n  );\n}\n\nexport default withRouter(Header);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}