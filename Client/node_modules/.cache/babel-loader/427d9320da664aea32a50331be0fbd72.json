{"ast":null,"code":"var _jsxFileName = \"D:\\\\STUDY STUFF\\\\\\u0413\\u0440\\u0443\\u043F\\u043F\\u043E\\u0432\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\\\Client\\\\src\\\\pages\\\\Results\\\\index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Title, Description, Card, Question } from \"./styles\";\nimport axiosInstance from \"../../services/api\";\nimport Header from \"../../components/Header\";\nimport AnswerItem from \"../../components/AnswerItem\";\nexport default function Survey(_ref) {\n  let {\n    history,\n    match\n  } = _ref;\n  const [data, setData] = useState();\n  const mount = data => {\n    var _data$questions;\n    return data === null || data === void 0 ? void 0 : (_data$questions = data.questions) === null || _data$questions === void 0 ? void 0 : _data$questions.map(question => {\n      var _question$options;\n      const total = question.result.reduce((acc, cur) => cur + acc, 0);\n      return /*#__PURE__*/React.createElement(Card, {\n        key: question.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Question, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }\n      }, \"Question: \" + question.title), question === null || question === void 0 ? void 0 : (_question$options = question.options) === null || _question$options === void 0 ? void 0 : _question$options.map((option, i) => /*#__PURE__*/React.createElement(AnswerItem, {\n        key: i,\n        questionId: question.id,\n        answerId: option,\n        text: option,\n        showResults: true,\n        resultPercent: total ? question.result[i] / total : 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }\n      })));\n    });\n  };\n  useEffect(() => {\n    axiosInstance.get(`/surveys/${match.params.id}/result`).then(response => {\n      setData(response === null || response === void 0 ? void 0 : response.data);\n    }).catch();\n  }, [match.params.id]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), data && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, data.title), /*#__PURE__*/React.createElement(Description, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, data.description), mount(data)));\n}","map":{"version":3,"names":["React","useState","useEffect","Container","Title","Description","Card","Question","axiosInstance","Header","AnswerItem","Survey","_ref","history","match","data","setData","mount","_data$questions","questions","map","question","_question$options","total","result","reduce","acc","cur","createElement","key","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","options","option","i","questionId","answerId","text","showResults","resultPercent","get","params","then","response","catch","Fragment","description"],"sources":["D:/STUDY STUFF/Групповой проект/Client/src/pages/Results/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { Container, Title, Description, Card, Question } from \"./styles\";\nimport axiosInstance from \"../../services/api\";\n\nimport Header from \"../../components/Header\";\n\nimport AnswerItem from \"../../components/AnswerItem\";\n\nexport default function Survey({ history, match }) {\n  const [data, setData] = useState();\n  const mount = data =>\n    data?.questions?.map(question => {\n      const total = question.result.reduce((acc, cur) => cur + acc, 0);\n\n      return (\n        <Card key={question.id}>\n          <Question>{\"Question: \" + question.title}</Question>\n          {question?.options?.map((option, i) => (\n            <AnswerItem\n              key={i}\n              questionId={question.id}\n              answerId={option}\n              text={option}\n              showResults\n              resultPercent={total ? question.result[i] / total : 0}\n            />\n          ))}\n        </Card>\n      );\n    });\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/surveys/${match.params.id}/result`)\n      .then(response => {\n        setData(response?.data);\n      })\n      .catch();\n  }, [match.params.id]);\n\n  return (\n    <Container>\n      <Header />\n      {data && (\n        <>\n          <Title>{data.title}</Title>\n          <Description>{data.description}</Description>\n          {mount(data)}\n        </>\n      )}\n    </Container>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,SAASC,SAAS,EAAEC,KAAK,EAAEC,WAAW,EAAEC,IAAI,EAAEC,QAAQ,QAAQ,UAAU;AACxE,OAAOC,aAAa,MAAM,oBAAoB;AAE9C,OAAOC,MAAM,MAAM,yBAAyB;AAE5C,OAAOC,UAAU,MAAM,6BAA6B;AAEpD,eAAe,SAASC,MAAMA,CAAAC,IAAA,EAAqB;EAAA,IAApB;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAAF,IAAA;EAC/C,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,EAAE;EAClC,MAAMgB,KAAK,GAAGF,IAAI;IAAA,IAAAG,eAAA;IAAA,OAChBH,IAAI,aAAJA,IAAI,wBAAAG,eAAA,GAAJH,IAAI,CAAEI,SAAS,cAAAD,eAAA,uBAAfA,eAAA,CAAiBE,GAAG,CAACC,QAAQ,IAAI;MAAA,IAAAC,iBAAA;MAC/B,MAAMC,KAAK,GAAGF,QAAQ,CAACG,MAAM,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKA,GAAG,GAAGD,GAAG,EAAE,CAAC,CAAC;MAEhE,oBACE1B,KAAA,CAAA4B,aAAA,CAACtB,IAAI;QAACuB,GAAG,EAAER,QAAQ,CAACS,EAAG;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACrBpC,KAAA,CAAA4B,aAAA,CAACrB,QAAQ;QAAAwB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAE,YAAY,GAAGf,QAAQ,CAACgB,KAAK,CAAY,EACnDhB,QAAQ,aAARA,QAAQ,wBAAAC,iBAAA,GAARD,QAAQ,CAAEiB,OAAO,cAAAhB,iBAAA,uBAAjBA,iBAAA,CAAmBF,GAAG,CAAC,CAACmB,MAAM,EAAEC,CAAC,kBAChCxC,KAAA,CAAA4B,aAAA,CAAClB,UAAU;QACTmB,GAAG,EAAEW,CAAE;QACPC,UAAU,EAAEpB,QAAQ,CAACS,EAAG;QACxBY,QAAQ,EAAEH,MAAO;QACjBI,IAAI,EAAEJ,MAAO;QACbK,WAAW;QACXC,aAAa,EAAEtB,KAAK,GAAGF,QAAQ,CAACG,MAAM,CAACgB,CAAC,CAAC,GAAGjB,KAAK,GAAG,CAAE;QAAAQ,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAEzD,CAAC,CACG;IAEX,CAAC,CAAC;EAAA;EAEJlC,SAAS,CAAC,MAAM;IACdM,aAAa,CACVsC,GAAG,CAAE,YAAWhC,KAAK,CAACiC,MAAM,CAACjB,EAAG,SAAQ,CAAC,CACzCkB,IAAI,CAACC,QAAQ,IAAI;MAChBjC,OAAO,CAACiC,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAElC,IAAI,CAAC;IACzB,CAAC,CAAC,CACDmC,KAAK,EAAE;EACZ,CAAC,EAAE,CAACpC,KAAK,CAACiC,MAAM,CAACjB,EAAE,CAAC,CAAC;EAErB,oBACE9B,KAAA,CAAA4B,aAAA,CAACzB,SAAS;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACRpC,KAAA,CAAA4B,aAAA,CAACnB,MAAM;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,EACTrB,IAAI,iBACHf,KAAA,CAAA4B,aAAA,CAAA5B,KAAA,CAAAmD,QAAA,qBACEnD,KAAA,CAAA4B,aAAA,CAACxB,KAAK;IAAA2B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAErB,IAAI,CAACsB,KAAK,CAAS,eAC3BrC,KAAA,CAAA4B,aAAA,CAACvB,WAAW;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAErB,IAAI,CAACqC,WAAW,CAAe,EAC5CnC,KAAK,CAACF,IAAI,CAAC,CAEf,CACS;AAEhB"},"metadata":{},"sourceType":"module"}